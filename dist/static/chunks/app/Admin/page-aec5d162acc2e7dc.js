(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[722],{4775:(e,r,a)=>{Promise.resolve().then(a.bind(a,3963))},5828:(e,r,a)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var a in r)Object.defineProperty(e,a,{enumerable:!0,get:r[a]})}(r,{callServer:function(){return t.callServer},createServerReference:function(){return l},findSourceMapURL:function(){return c.findSourceMapURL}});let t=a(9603),c=a(3355),l=a(4979).createServerReference},3963:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>n});var t=a(5155),c=a(5828);let l=(0,c.createServerReference)("001f66cf165ab898047ed13c33b40f6cc6ef8fd6fd",c.callServer,void 0,c.findSourceMapURL,"getProducts"),s=(0,c.createServerReference)("701f4d1660c3a4b972b13463af97d549ccda15bba3",c.callServer,void 0,c.findSourceMapURL,"addProduct");var d=a(2115);function n(){let[e,r]=(0,d.useState)({name:"",description:"",price:""}),[a,c]=(0,d.useState)([]),[n,i]=(0,d.useState)(null);(0,d.useEffect)(()=>{(async()=>{try{let e=await l();c(e)}catch(e){i("Failed to fetch products"+e)}})()},[]);let o=a=>{let{name:t,value:c}=a.target;r({...e,[t]:c})},u=async t=>{t.preventDefault(),i(null);let l=parseFloat(e.price);if(isNaN(l)){i("Price must be a valid number");return}try{let t=await s(e.name,e.description,l);c([...a,t]),r({name:"",description:"",price:""})}catch(e){i("Failed to add product"+e)}};return(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Admin Page"}),(0,t.jsx)("h1",{className:"text-xl font-semibold mb-2",children:"Add New Product"}),n&&(0,t.jsx)("p",{className:"text-red-500",children:n}),(0,t.jsxs)("form",{onSubmit:u,className:"mb-4 bg-white p-4 rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{className:"block text-gray-700",children:"Name"}),(0,t.jsx)("input",{type:"text",name:"name",value:e.name,onChange:o,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Name...",required:!0})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{className:"block text-gray-700",children:"Description"}),(0,t.jsx)("textarea",{name:"description",value:e.description,onChange:o,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Description...",required:!0})]}),(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsx)("label",{className:"block text-gray-700",children:"Price"}),(0,t.jsx)("input",{type:"number",name:"price",value:e.price,onChange:o,className:"w-full p-2 border border-gray-300 rounded",placeholder:"Price...",required:!0})]}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Product"})]}),(0,t.jsx)("h1",{className:"text-xl font-semibold mb-2",children:"Products"}),(0,t.jsx)("ul",{className:"space-y-4",children:a.map(e=>(0,t.jsxs)("li",{className:"bg-white border border-black p-4 rounded-lg shadow",children:[(0,t.jsx)("h1",{className:"text-lg font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-gray-700",children:e.description}),(0,t.jsxs)("p",{className:"text-gray-900 font-bold",children:[e.price," zÅ‚"]}),(0,t.jsx)("button",{className:"mt-2 px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600",children:"Delete"})]},e.id))})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,517,358],()=>r(4775)),_N_E=e.O()}]);