(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[204],{3432:(e,r,t)=>{Promise.resolve().then(t.bind(t,7035))},5828:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return n.callServer},createServerReference:function(){return a},findSourceMapURL:function(){return s.findSourceMapURL}});let n=t(9603),s=t(3355),a=t(4979).createServerReference},7582:(e,r,t)=>{"use strict";function n(e){try{localStorage.setItem("session",JSON.stringify(e))}catch(e){console.error("Error setting session:",e)}}function s(){try{let e=localStorage.getItem("session");return e?JSON.parse(e):null}catch(e){console.error("Error getting session:",e)}return null}function a(){try{localStorage.removeItem("session")}catch(e){console.error("Error clearing session:",e)}}t.d(r,{Ht:()=>s,Nq:()=>n,q7:()=>a})},7035:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var n=t(5155),s=t(7582),a=t(5828);let i=(0,a.createServerReference)("40ac792055f7946e84db0449f47895f3ba496a9a62",a.callServer,void 0,a.findSourceMapURL,"GetCartItems"),o=(0,a.createServerReference)("6059568e0d3248f021ae4b739e151141d0e0f4f5f9",a.callServer,void 0,a.findSourceMapURL,"RemoveFromCart");var c=t(2115);function l(){let[e,r]=(0,c.useState)(null),[t,a]=(0,c.useState)([]),[l,d]=(0,c.useState)(0);return(0,c.useEffect)(()=>{(async()=>{let e=await (0,s.Ht)();if(console.log("Session data:",e),r(e),e){let r=await i(e.UserId);a(r),d(r.reduce((e,r)=>e+r.price*r.quantity,0))}})()},[]),(0,n.jsxs)("div",{className:"flex justify-center p-4 ",children:[(0,n.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center w-full max-w-2xl font-bold text-2xl",children:[(0,n.jsxs)("h1",{children:["Cart of ",null==e?void 0:e.name]}),t.length>0?t.map(r=>(0,n.jsxs)("div",{className:"p-4 border-b border-gray-200 flex justify-between items-center",children:[(0,n.jsxs)("p",{children:[r.product.name," - ",r.quantity," x $",r.price.toFixed(2)]}),(0,n.jsx)("button",{className:"bg-red-700 text-white px-4 py-2 rounded hover:bg-red-800 transition duration-300",onClick:async()=>{if(null==e?void 0:e.UserId){await o(e.UserId,r.id);let t=await i(e.UserId);a(t),d(t.reduce((e,r)=>e+r.price*r.quantity,0))}},children:"delate"})]},r.id)):(0,n.jsx)("p",{className:"mt-10",children:"No items in cart"})]}),(0,n.jsxs)("div",{className:"ml-4 h-1/4 max-w-2xl text-right bg-white p-6 rounded-lg shadow-md",children:[(0,n.jsxs)("p",{className:"text-xl font-semibold",children:["Total Price: ",l.toFixed(2)," zÅ‚"]}),(0,n.jsx)("button",{className:"mt-4 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition duration-300",children:"Proceed to Checkout"})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[441,517,358],()=>r(3432)),_N_E=e.O()}]);